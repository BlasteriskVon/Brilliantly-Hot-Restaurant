<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Brilliantly Hot Restaurant </title>

  <link rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>
    <div class="container ">
        <div class="jumbotron text-center">
          <h1>Brilliantly Hot Restaurant üî•</h1>
          <h3>Make a reservation for the hottest, coolest restaurant in the Galaxy üåè!</h3>
          <h3>There are only 5 tables! Or be put on the wait-list....</h3>
          <hr>
          <a href="/add"><button class="btn btn-primary btn-lg"><span class="fa fa-plus"></span> Make A New Reservation!</button></a>
          <a href="/"><button class="btn btn-success btn-lg"><span
                class="fa "></span> üè†</button></a> 
        </div>
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Current Reservation</h4>
        <table class="table">
            <thead>
              <tr>
                <th scope="col">Place in Line</th>
                <th scope="col">Name</th>
                <th scope="col">Party Number</th>
              </tr>
            </thead>
            <tbody id="whatever">
            
              
            </tbody>
          </table>

          </div>
          </div>

          <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Wait List</h4>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Place in Wait Line</th>
                    <th scope="col">Name</th>
                    <th scope="col">Party Number</th>
                  </tr>
                </thead>
                <tbody id="nameOfWaitList">
                  <tr>
                    <th scope="row"><button type="button" class="btn btn-success">1</button></th>
                    <td>Mark</td>
                    <td>3</td>
                  </tr>
                  <tr>
                    <th scope="row"><button type="button" class="btn btn-success">2</button></th>
                    <td>Jacob</td>
                    <td>34</td>
                  </tr>
                  
                </tbody>
              </table>
    
              </div>
              </div>

<a href="">Clear Table </a>||
<a href="">API Table Link </a>||
<a href="">API Wait List</a>

</body>
</html>

<script type="text/javascript">
$.get("/api/tables", function(data) {
    console.log(data);
    if(data) {
        var startPlace = 1;
        for(var i = 0;i < data.length;i++){
            var trow = $("<tr>");
            $("#whatever").append(trow);
            var tplace = $('<th scope="row"><button type="button" class="btn btn-success">' + startPlace + '</button></th>');
            trow.append(tplace);

            var tname = $("<td>");
            tname.text(data[i].name);
            trow.append(tname);

            var tparty = $("<td>");
            tparty.text(data[i].party);
            trow.append(tparty);

            startPlace++;
        }
    }
});

$.get("/api/wait", function(data) {
    console.log(data);
    if(data) {
        var startPlace = 3;
        for(var i = 0;i < data.length;i++){
            var trow = $("<tr>");
            $("#nameOfWaitList").append(trow);
            var tplace = $('<th scope="row"><button type="button" class="btn btn-success">' + startPlace + '</button></th>');
            trow.append(tplace);

            var tname = $("<td>");
            tname.text(data[i].name);
            trow.append(tname);

            var tparty = $("<td>");
            tparty.text(data[i].party);
            trow.append(tparty);

            startPlace++;
        }
    }
});
</script>